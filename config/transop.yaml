defaults:
  - base
  - header/transop_header@model_cfg.header_cfg
  - _self_

exp_name: TransOp

model_cfg:
  concat_different_views: false
  enable_header_momentum: false
  backbone_cfg:
    pretrained: true
    freeze_backbone: true
  loss_cfg:
    ntxent_loss_active: false
    ntxent_normalize: false
    ntxent_logit: mse
    ntxent_detach_off_logit: false
    kl_loss_active: true
    kl_loss_weight: 1.0e-3
    transop_loss_active: true
    transop_loss_weight: 1.0

trainer_cfg:
  optimizer_cfg:
    optimizer: SGD
    initial_lr: 0.0003
    enable_nesterov: true
  scheduler_cfg:
    scheduler: LinearWarmupCosineAnnealingLR
    warmup_epochs: 10
  metric_logger_cfg:
    enable_transop_logging: true
  use_amp: false
train_dataloader_cfg:
  batch_size: 256
devices: [0, 1]

evaluator_cfg:
  knn_eval_cfg:
    eval_freq: 50
  clustering_eval_cfg:
    eval_freq: 50